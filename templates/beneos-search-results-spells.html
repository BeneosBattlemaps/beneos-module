<form class="{{cssClass}}" autocomplete="off">

  {{!-- Sheet Body --}}
  <section class="sheet-body">

    <!-- <div>
      <img class="bsr_title" src="modules/beneos_module/ui/result_form_title_item.webp">
    </div> -->

    <div class="bsr_result_box">

      {{#each results as |result idx|}}
      <div data-result-index="{{idx}}" data-token-key="{{result.key}}"
        class="directory-item document actor flexrow token-root-div item-container">

        <div class="flexrow">

          <div class="beneos-tooltip-icon-group beneos-tooltip entity-link content-link">
            <div class="beneos-tooltiptext beneos-token-description">
              <div class="flexrow beneos-tooltip-content">
                <img class="beneos-search-icons-result-tooltip " src="{{result.picture}}">
                <span class="beneos-description-text">{{result.description}}</span>
              </div>
            </div>
            <div class="beneos-icon-group">
              <img class="beneos-icon-background" src="modules/beneos_module/ui/result_item_icon_bg.webp" />
              <img class="beneos-icon-child" src="{{result.picture}}" />
            </div>
          </div>

          {{#if result.isInstalled}}
          <div class="beneos-search-middle flexcol token-search-data" data-type="Item"
            data-document-id="{{result.itemId}}" draggable="true">
          {{else}}
          <div class="beneos-search-middle flexcol">
          {{/if}}

              <img class="bsr_top_border" src="modules/beneos_module/ui/border_top.webp" />

              <div class="bsr_item_title beneos-tooltip">
                <div class="beneos-tooltiptext beneos-token-description">
                  <div class="flexrow beneos-tooltip-content-item">
                    <img class="beneos-search-icons-result-tooltip-item" src="{{result.card_front}}">
                    <img class="beneos-search-icons-result-tooltip-item" src="{{result.card_back}}">
                  </div>
                </div>
                <label class="beneos-search-title-result">{{result.name}}</label>
                <span class="triangle-topleft"></span>
              </div>
              
              <!-- Properties + Attenument line -->
              <div class="item-middle-line flexrow">
                <div class="item-properties-box item-properties-box-spells">
                  <label class="beneos-search-stat"><a class="beneos-button-level"
                      data-level-value="{{result.properties.level}}">Level {{beneosUpperFirst
                        result.properties.level}}</a>
                  </label>

                  <div class="beneos-tooltip beneos-search-stat">
                    <div class="beneos-tooltiptext beneos-token-description">
                        <div class="flexrow beneos-tooltip-content-installed">
                          {{beneosGetHover "school" result.properties.school}}
                        </div>
                    </div>
                    <a class="beneos-button-school" data-school-value="{{result.properties.school}}">{{beneosUpperFirst
                      result.properties.school}} Spell</a>
                  </div>
                </div>
              </div>
              
              <div class="item-description-box item-description-box-spells">
                <span class="beneos-search-text01 flexrow beneos-description-background">
                  {{result.description}}
                </span>

                <span class="beneos-classes">Classes:</span>
                {{#each result.properties.classes as |class key|}}
                <span class="beneos-classes"><a class="beneos-button-class"
                    data-class-value="{{class}}">{{beneosUpperFirst class}}</a></span>
                {{/each}}

                {{#if result.properties.releaseurl}}
                <label><a href="{{result.properties.releaseurl}}">Release URL</a></label>
                {{/if}}
              </div>

            </div>
          </div>

          <div class="beneos-search-last flexcol">
            
            <div class="flexrow flex-content-left">
              <div class="beneos-tooltip beneos-search-installed ">
                {{#if result.isInstalled}}
                <div class="beneos-tooltiptext beneos-token-description">
                  <div class="flexrow beneos-tooltip-content-left-buttons">
                    {{beneosGetHover "installed" "installed"}}
                  </div>
                </div>
                <img class="item-right-text-box" src="modules/beneos_module/ui/right_button_v1.png">
                <label class="beneos-search-installed item-right-text-content">Installed</label>
              {{else}}
                <div class="beneos-tooltiptext beneos-token-description">
                  <div class="flexrow beneos-tooltip-content-left-buttons item-right-text-content">
                    {{beneosGetHover "installed" "not_installed"}}
                  </div>
                </div>
                <img class="item-right-text-box" src="modules/beneos_module/ui/right_button_v1.png">
                <label class="beneos-search-notinstalled item-right-text-content">Not Installed</label>
              {{/if}}
            </div>
          </div>

          <div class="flexrow flex-content-left">
            <div class="beneos-tooltip beneos-search-tier-button">
              <div class="beneos-tooltiptext beneos-token-description">
                <div class="flexrow beneos-tooltip-content-left-buttons">
                </div>
              </div>
              <img class="item-right-text-box" src="modules/beneos_module/ui/right_button_v1.png">
              <a class="beneos-button-spell-type item-right-text-content"
                data-spell_type-value="{{result.properties.spell_type}}"><strong>{{result.properties.spell_type}}</strong></a>
            </div>
          </div>

          <div class="flexrow flex-content-left">
            <div class="beneos-tooltip  beneos-search-price-button">
              <div class="beneos-tooltiptext beneos-token-description">
              </div>
              <img class="item-right-text-box" src="modules/beneos_module/ui/right_button_v1.png">
              <a class="beneos-button-casting item-right-text-content"
                  data-casting_time-value="{{result.properties.casting_time}}"><strong>{{result.properties.casting_time}}</strong></a>
            </div>
          </div>
          
        </div>

        <img src="modules/beneos_module/ui/border_bottom.webp" class="bsr_bottom_border" />
        
      </div>
      {{/each}}
      </div>
    </div>
  </section>

</form>