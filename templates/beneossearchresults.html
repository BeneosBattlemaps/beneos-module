<form class="{{cssClass}}" autocomplete="off">

  {{!-- Sheet Body --}}
  <section class="sheet-body">

    {{#each results as |result idx|}}
    <div data-result-index="{{idx}}" data-token-key="{{result.key}}"
      class="directory-item document actor flexrow token-root-div {{#if result.isInstalled}} {{else}}beneos-not-installed{{/if}}">

      {{#if (eq result.kind "token")}}
      <div class="beneos-search-icons-result beneos-tooltip entity-link content-link">

        {{#if result.isInstalled}}
        <div class="beneos-tooltiptext beneos-token-description token-search-data" data-type="Actor"
          data-document-id="{{result.actorId}}" draggable="true">
          <div class="flexrow beneos-tooltip-content token-search-data" data-type="Actor"
            data-document-id="{{result.actorId}}" draggable="true">
            <img class="beneos-search-icons-result-tooltip token-search-data" data-document-id="{{result.actorId}}"
              draggable="true" src="{{result.picture}}">
            <span class="beneos-description-text">{{result.description}}</span>
          </div>
        </div>
        <img class="beneos-search-icons-result token-search-data" data-type="Actor"
          data-document-id="{{result.actorId}}" draggable="true" src="{{result.picture}}">
      </div>
      {{else}}
      <div class="beneos-tooltiptext beneos-token-description">
        <div class="flexrow beneos-tooltip-content">
          <img class="beneos-search-icons-result-tooltip " src="{{result.picture}}">
          <span class="beneos-description-text">{{result.description}}</span>
        </div>
      </div>
      <img class="beneos-search-icons-result" src="{{result.picture}}" />
    </div>
    {{/if}}

    {{#if result.isInstalled}}
    <div class="beneos-search-middle flexcol token-search-data" data-type="Actor" data-document-id="{{result.actorId}}"
      draggable="true">
      {{else}}
      <div class="beneos-search-middle flexcol">
        {{/if}}
        <label class="beneos-search-title-result">{{result.name}}</label>
        <span class="beneos-search-text01">
          <label>{{beneosUpperFirst result.properties.size}}</label>
          {{#each result.properties.type as |type key|}}
          <label>{{beneosUpperFirst type}}</label>
          {{/each}}
          <label class="beneos-search-stat">AC: <strong>{{result.properties.stat_ac}}</strong></label>
          <label class="beneos-search-stat">HP: <strong>{{result.properties.stat_hp}}</strong></label>
        </span>
        <span class="beneos-search-text01 flexrow">
          {{#each result.properties.fightingstyle as |fight key|}}
          <label class="beneos-search-button biom-content" data-prop-name="fightingstyle">
            <div class="beneos-tooltip">
              <div class="beneos-tooltiptext beneos-tooltip-keyword">
                <span class="">{{getTagDescription fight}}</span>
              </div>
              <a class="beneos-button-fight" data-fight-value="{{fight}}">{{beneosUpperFirst fight}}</a>
            </div>
          </label>
          {{/each}}
          {{#each result.properties.purpose as |purpose key|}}
          <label class="beneos-search-button biom-content" data-prop-name="purpose">
            <div class="beneos-tooltip">
              <div class="beneos-tooltiptext beneos-tooltip-purpose ">
                <span class="">{{getTagDescription purpose}}</span>
              </div>
              <a class="beneos-button-purpose" data-purpose-value="{{purpose}}">{{beneosUpperFirst purpose}}</a>
            </div>
          </label>
          {{/each}}
        </span>
        <label><a href="{{result.properties.releaseurl}}">{{#if result.isInstalled}} {{else}}GET IT HERE{{/if}} Release
            URL</a></label>
      </div>

      <div class="beneos-search-last flexcol">
        {{#if result.isCloudAvailable}}
        <div class="beneos-tooltip beneos-search-installed">
          <div class="beneos-tooltiptext beneos-token-description">
            <div class="flexrow beneos-tooltip-content-installed">
              {{beneosGetHover "cloudAvailable" "cloudAvailable"}}
            </div>
          </div>
          <label class="beneos-search-installed"><a class="beneos-cloud-token-install">Cloud ready : INSTALL</a></label>
        </div>
        {{else}}
          {{#if result.isInstalled}}
          <div class="beneos-tooltip beneos-search-installed">
            <div class="beneos-tooltiptext beneos-token-description">
              <div class="flexrow beneos-tooltip-content-installed">
                {{beneosGetHover "installed" "installed"}}
              </div>
            </div>
            <label class="beneos-search-installed">Installed</label>
          </div>
          <label class="beneos-search-journal-button"><a class="beneos-button-journal">Journal</a></label>
          {{else}}
          <div class="beneos-tooltip beneos-search-installed">
            <div class="beneos-tooltiptext beneos-token-description">
              <div class="flexrow beneos-tooltip-content-installed">
                {{beneosGetHover "installed" "not_installed"}}
              </div>
            </div>
            <label class="beneos-search-notinstalled">Not Installed</label>
          </div>
          {{/if}}
        {{/if}}

        <label class="beneos-search-cr-button"><a class="beneos-button-cr" data-cr-value="{{result.properties.cr}}">CR
            <strong>{{result.properties.cr}}</strong></a></label>
        <label class="beneos-search-yt-button"><a class="beneos-button-yt" href="{{result.properties.videourl}}"><img
              class="beneos-search-yt-icons" src="modules/beneos-module/icons/yt_Logo.webp">&nbsp;</a></label>
      </div>
      {{/if}}


        </div>
        <hr>
        {{/each}}

  </section>

</form>