<form class="{{cssClass}}" autocomplete="off">

  {{!-- Sheet Body --}}
  <section class="sheet-body">

    <div>
      <img class="bsr_title" src="modules/beneos_module/ui/result_form_title_item.webp">
    </div>

    <div class="bsr_result_box">

      {{#each results as |result idx|}}
      <div data-result-index="{{idx}}" data-token-key="{{result.key}}"
        class="directory-item document actor flexrow token-root-div {{#if result.isInstalled}} {{else}}beneos-not-installed{{/if}}">


        <div class="beneos-search-icons-result beneos-tooltip entity-link content-link">

          <div class="beneos-tooltiptext beneos-token-description">
            <div class="flexrow beneos-tooltip-content">
              <img class="beneos-search-icons-result-tooltip " src="{{result.picture}}">
              <span class="beneos-description-text">{{result.description}}</span>
            </div>
          </div>
          <img class="beneos-search-icons-result" src="{{result.picture}}" />
        </div>

        {{#if result.isInstalled}}
        <div class="beneos-search-middle flexcol token-search-data" data-type="Item"
          data-document-id="{{result.itemId}}" draggable="true">
          {{else}}
          <div class="beneos-search-middle flexcol">
            {{/if}}

            <div class="beneos-tooltip">
              <div class="beneos-tooltiptext beneos-token-description">
                <div class="flexrow beneos-tooltip-content-item">
                  <img class="beneos-search-icons-result-tooltip-item" src="{{result.card_front}}">
                  <img class="beneos-search-icons-result-tooltip-item" src="{{result.card_back}}">
                </div>
              </div>
              <label class="beneos-search-title-result">{{result.name}}</label>
            </div>

            <span class="beneos-search-text01">
              <label class="beneos-search-stat"><a class="beneos-button-rarity"
                  data-rarity-value="{{result.properties.rarity}}">{{beneosUpperFirst
                  result.properties.rarity}}</a></label>

              <div class="beneos-tooltip beneos-search-stat">
                <div class="beneos-tooltiptext beneos-token-description">
                  <div class="flexrow beneos-tooltip-content-installed">
                    {{beneosGetHover "origin" result.properties.origin}}
                  </div>
                </div>
                <a class="beneos-button-origin" data-origin-value="{{result.properties.origin}}">{{beneosUpperFirst
                  result.properties.origin}}</a>
              </div>

              <div class="beneos-tooltip beneos-search-stat">
                <div class="beneos-tooltiptext beneos-token-description">
                  <div class="flexrow beneos-tooltip-content-installed">
                    {{beneosGetHover "item_type" result.properties.item_type}}
                  </div>
                </div>
                <a class="beneos-button-item_type"
                  data-item-type-value="{{result.properties.item_type}}">{{beneosUpperFirst
                  result.properties.item_type}}</a>
              </div>

            </span>
            <span class="beneos-search-text01 flexrow beneos-description-background ">
              {{result.description}}
            </span>
            {{#if result.properties.releaseurl}}
            <label><a href="{{result.properties.releaseurl}}">Release URL</a></label>
            {{/if}}
          </div>

          <div class="beneos-search-last flexcol">
            {{#if result.isInstalled}}
            <div class="beneos-tooltip beneos-search-installed">
              <div class="beneos-tooltiptext beneos-token-description">
                <div class="flexrow beneos-tooltip-content-installed">
                  {{beneosGetHover "installed" "installed"}}
                </div>
              </div>
              <label class="beneos-search-installed">Installed</label>
            </div>
            {{else}}
            <div class="beneos-tooltip beneos-search-installed">
              <div class="beneos-tooltiptext beneos-token-description">
                <div class="flexrow beneos-tooltip-content-installed">
                  {{beneosGetHover "installed" "not_installed"}}
                </div>
              </div>
              <label class="beneos-search-notinstalled">Not Installed</label>
            </div>
            {{/if}}

            <div class="beneos-tooltip beneos-search-tier-button">
              <div class="beneos-tooltiptext beneos-token-description">
                <div class="flexrow beneos-tooltip-content-installed">
                  {{beneosGetHover "tier" "1"}}
                </div>
              </div>
              <a class="beneos-button-tier"
                data-tier-value="{{result.properties.tier}}"><strong>{{result.properties.tier}}</strong></a>
            </div>

            <label class="beneos-search-price-button"><a class="beneos-button-price"
                data-price-value="{{result.properties.price}}"><strong>{{result.properties.price}}</strong></a></label>
            {{#if result.properties.attunement}}
            <label class="beneos-search-attunement-button"><strong>Requires attunement</strong></label>
            {{/if}}
          </div>
        </div>
      </div>
      {{/each}}
    </div>
  </section>

</form>